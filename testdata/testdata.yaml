schedule:
  name: "心远中学2024年第一学期课程表"
  num_workdays: 5
  num_days_off: 2
  num_morning_reading_classes: 0
  num_forenoon_classes: 4
  num_afternoon_classes: 4
  num_night_classes: 0

# 教学任务
teach_task_allocations:
  - {id: 1, grade_id: 7, class_id: 1, subject_id: 1, teacher_id: 1, num_classes_per_week: 5, num_connected_classes_per_week: 2}
  - {id: 2, grade_id: 7, class_id: 1, subject_id: 2, teacher_id: 2, num_classes_per_week: 5, num_connected_classes_per_week: 1}
  - {id: 3, grade_id: 7, class_id: 1, subject_id: 3, teacher_id: 3, num_classes_per_week: 5, num_connected_classes_per_week: 0}
  - {id: 4, grade_id: 7, class_id: 1, subject_id: 9, teacher_id: 4, num_classes_per_week: 2, num_connected_classes_per_week: 0}
  - {id: 5, grade_id: 7, class_id: 1, subject_id: 10, teacher_id: 5, num_classes_per_week: 2, num_connected_classes_per_week: 0}
  - {id: 6, grade_id: 7, class_id: 1, subject_id: 11, teacher_id: 6, num_classes_per_week: 5, num_connected_classes_per_week: 0}
  - {id: 7, grade_id: 7, class_id: 1, subject_id: 12, teacher_id: 7, num_classes_per_week: 2, num_connected_classes_per_week: 0}
  - {id: 8, grade_id: 7, class_id: 1, subject_id: 6, teacher_id: 8, num_classes_per_week: 4, num_connected_classes_per_week: 0}
  - {id: 9, grade_id: 7, class_id: 1, subject_id: 13, teacher_id: 9, num_classes_per_week: 2, num_connected_classes_per_week: 0}
  - {id: 10, grade_id: 7, class_id: 1, subject_id: 5, teacher_id: 10, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  - {id: 11, grade_id: 7, class_id: 1, subject_id: 4, teacher_id: 11, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  - {id: 12, grade_id: 7, class_id: 1, subject_id: 14, teacher_id: 12, num_classes_per_week: 2, num_connected_classes_per_week: 0}
  - {id: 13, grade_id: 7, class_id: 1, subject_id: 15, teacher_id: 13, num_classes_per_week: 1, num_connected_classes_per_week: 0}  
  - {id: 14, grade_id: 7, class_id: 1, subject_id: 16, teacher_id: 1, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  # - {id: 15, grade_id: 7, class_id: 2, subject_id: 1, teacher_id: 1, num_classes_per_week: 6, num_connected_classes_per_week: 1}
  # - {id: 16, grade_id: 7, class_id: 2, subject_id: 2, teacher_id: 2, num_classes_per_week: 5, num_connected_classes_per_week: 0}
  # - {id: 17, grade_id: 7, class_id: 2, subject_id: 3, teacher_id: 3, num_classes_per_week: 5, num_connected_classes_per_week: 0}
  # - {id: 18, grade_id: 7, class_id: 2, subject_id: 9, teacher_id: 4, num_classes_per_week: 2, num_connected_classes_per_week: 0}
  # - {id: 19, grade_id: 7, class_id: 2, subject_id: 10, teacher_id: 5, num_classes_per_week: 2, num_connected_classes_per_week: 0}
  # - {id: 20, grade_id: 7, class_id: 2, subject_id: 11, teacher_id: 6, num_classes_per_week: 3, num_connected_classes_per_week: 0}
  # - {id: 21, grade_id: 7, class_id: 2, subject_id: 12, teacher_id: 7, num_classes_per_week: 2, num_connected_classes_per_week: 0}
  # - {id: 22, grade_id: 7, class_id: 2, subject_id: 6, teacher_id: 8, num_classes_per_week: 3, num_connected_classes_per_week: 0}
  # - {id: 23, grade_id: 7, class_id: 2, subject_id: 13, teacher_id: 9, num_classes_per_week: 2, num_connected_classes_per_week: 0}
  # - {id: 24, grade_id: 7, class_id: 2, subject_id: 5, teacher_id: 10, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  # - {id: 25, grade_id: 7, class_id: 2, subject_id: 4, teacher_id: 11, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  # - {id: 26, grade_id: 7, class_id: 2, subject_id: 14, teacher_id: 12, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  # - {id: 27, grade_id: 7, class_id: 2, subject_id: 15, teacher_id: 13, num_classes_per_week: 2, num_connected_classes_per_week: 0}  
  # - {id: 28, grade_id: 7, class_id: 2, subject_id: 16, teacher_id: 1, num_classes_per_week: 1, num_connected_classes_per_week: 0}

teachers:
  - { teacher_id: 1, name: "王老师", teacher_group_ids: [1, 3], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 1 }, { grade_id: 7, class_id: 1, subject_id: 16 }] }
  - { teacher_id: 2, name: "李老师", teacher_group_ids: [2], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 2 }] }
  - { teacher_id: 3, name: "刘老师", teacher_group_ids: [3], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 3 }] }
  - { teacher_id: 4, name: "张老师", teacher_group_ids: [4], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 9 }] }
  - { teacher_id: 5, name: "马老师", teacher_group_ids: [5], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 10 }] }
  - { teacher_id: 6, name: "黄老师", teacher_group_ids: [6], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 11 }] }
  - { teacher_id: 7, name: "常远", teacher_group_ids: [7], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 12 }] }
  - { teacher_id: 8, name: "王成思", teacher_group_ids: [8], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 6 }] }
  - { teacher_id: 9, name: "许文赫", teacher_group_ids: [9], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 13 }] }
  - { teacher_id: 10, name: "高飞", teacher_group_ids: [10], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 5 }] }
  - { teacher_id: 11, name: "谢娜", teacher_group_ids: [11], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 4 }] }
  - { teacher_id: 12, name: "黄凯", teacher_group_ids: [12], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 14 }] }
  - { teacher_id: 13, name: "孟都", teacher_group_ids: [13], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 15 }] }
  - { teacher_id: 14, name: "刘非", teacher_group_ids: [14], class_subjects: [{ grade_id: 7, class_id: 1, subject_id: 14 }] }


  
subjects:
  - {subject_id: 1, name: "语文", subject_group_ids: [1]}
  - {subject_id: 2, name: "数学", subject_group_ids: [1]}
  - {subject_id: 3, name: "英语", subject_group_ids: [1]}
  - {subject_id: 4, name: "音乐", subject_group_ids: [3]}
  - {subject_id: 5, name: "美术", subject_group_ids: [3]}
  - {subject_id: 6, name: "体育", subject_group_ids: [3]}
  - {subject_id: 7, name: "物理", subject_group_ids: [2]}
  - {subject_id: 8, name: "化学", subject_group_ids: [2]}
  - {subject_id: 9, name: "政治", subject_group_ids: [2]}
  - {subject_id: 10, name: "历史", subject_group_ids: [3]}
  - {subject_id: 11, name: "生物", subject_group_ids: [3]}
  - {subject_id: 12, name: "地理", subject_group_ids: [3]}
  - {subject_id: 13, name: "计机", subject_group_ids: [3]}
  - {subject_id: 14, name: "劳技", subject_group_ids: [3]}
  - {subject_id: 15, name: "活动", subject_group_ids: [3]}
  - {subject_id: 16, name: "班会", subject_group_ids: [3]}

venues:
  - { name: "实验室", type: "exclusive", capacity: 1 }
  - { name: "体育馆", type: "shared", capacity: 0 }

grades:
  - school_id: 1
    grade_id: 7
    name: "七年级"
    classes:
      - school_id: 1
        class_id: 1
        name: "(1)班"
  #     - school_id: 1
  #       class_id: 2
  #       name: "(2)班"
  #     - school_id: 1
  #       class_id: 3
  #       name: "(3)班"
  # - school_id: 1
  #   grade_id: 8
  #   name: "八年级"
  #   classes:
  #     - school_id: 1
  #       class_id: 4
  #       name: "(1)班"
  #     - school_id: 1
  #       class_id: 5
  #       name: "(2)班"
  #     - school_id: 1
  #       class_id: 6
  #       name: "(3)班"
  # - school_id: 1
  #   grade_id: 9
  #   name: "九年级"
  #   classes:
  #     - school_id: 1
  #       class_id: 7
  #       name: "(1)班"
  #     - school_id: 1
  #       class_id: 8
  #       name: "(2)班"
  #     - school_id: 1
  #       class_id: 9
  #       name: "(3)班"

# 教学场地 key: sn(科目id_年级id_班级id) value: 教室id
subject_venue_map:
  "1_7_1": [1]
  "2_7_1": [1]
  "3_7_1": [1]
  "4_7_1": [1]
  "5_7_1": [1]
  "6_7_1": [1]
  "7_7_1": [1]
  "8_7_1": [1]
  "9_7_1": [1]
  "10_7_1": [1]
  "11_7_1": [1]
  "12_7_1": [1]
  "13_7_1": [1]
  "14_7_1": [1]
  "15_7_1": [1]
  "16_7_1": [1]

##### 班级固排禁排
# 七年级(1)班 语文 周一 第1节 固排
# 七年级 数学 周二 第2节 尽量排
# 七年级 语文 周四 第4节 禁排
# 七年级 英语 周三 第1节 尽量不排 
class_constraints:
  - grade_id: 7
    class_id: 1
    subject_id: 1
    teacher_id: 1
    time_slot: 0
    limit: "fixed"
    desc: ""
  - grade_id: 7
    class_id: 0
    subject_id: 2
    teacher_id: 2
    time_slot: 9
    limit: "prefer"
    desc: ""
  - grade_id: 7
    class_id: 0
    subject_id: 1
    teacher_id: 1
    time_slot: 27
    limit: "not"
    desc: ""
  - grade_id: 7
    class_id: 0
    subject_id: 3
    teacher_id: 3
    time_slot: 16
    limit: "avoid"
    desc: ""    

# 语数英 周一~周五, 第 1,2,3 节 优先排
# 主课 周一~周五, 第 8 节 禁排 (去掉)
# 副课 周一~周五, 第 7 节 尽量不排(去掉)
subject_constraints:
  - subject_group_id: 1
    subject_id: 0
    time_slot: 0
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 1
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 2
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 8
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 9
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 10
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 16
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 17
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 18
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 24
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 25
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 26
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 32
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 33
    limit: "prefer"
    desc: ""
  - subject_group_id: 1
    subject_id: 0
    time_slot: 34
    limit: "prefer"
    desc: ""
  # - subject_group_id: 2
  #   subject_id: 0
  #   time_slot: 7
  #   limit: "not"
  #   desc: ""
  # - subject_group_id: 2
  #   subject_id: 0
  #   time_slot: 15
  #   limit: "not"
  #   desc: ""
  # - subject_group_id: 2
  #   subject_id: 0
  #   time_slot: 23
  #   limit: "not"
  #   desc: ""
  # - subject_group_id: 2
  #   subject_id: 0
  #   time_slot: 31
  #   limit: "not"
  #   desc: ""
  # - subject_group_id: 2
  #   subject_id: 0
  #   time_slot: 39    
  #   limit: "not"
  #   desc: ""
  # - subject_group_id: 3
  #   subject_id: 0
  #   time_slot: 6
  #   limit: "avoid"
  #   desc: ""
  # - subject_group_id: 3
  #   subject_id: 0
  #   time_slot: 14
  #   limit: "avoid"
  #   desc: ""
  # - subject_group_id: 3
  #   subject_id: 0
  #   time_slot: 22
  #   limit: "avoid"
  #   desc: ""
  # - subject_group_id: 3
  #   subject_id: 0
  #   time_slot: 30    
  #   limit: "avoid"
  #   desc: ""
  # - subject_group_id: 3
  #   subject_id: 0
  #   time_slot: 38    
  #   limit: "avoid"
  #   desc: ""
  

# 体育和活动不排在同一天
subject_mutex_constraints:
  - subject_a_id: 6
    subject_b_id: 15

# 体育课不排在数学课前
subject_order_constraints:
  - subject_a_id: 6
    subject_b_id: 2


# teacher_connected_lesson_constraints:
#   - teacher_id: 1
#   - teacher_id: 2

# 教师固排禁排
# 数学组 周一 第4节 禁排
# 刘老师 周二 第4节 禁排
# 王老师 周三 第2节 固排(去掉)
teacher_constraints:
  - teacher_group_id: 2
    teacher_id: 0
    time_slot: 3
    limit: "not"
    desc: ""
  - teacher_group_id: 0
    teacher_id: 3
    time_slot: 11
    limit: "not"
    desc: ""
  # - teacher_group_id: 0
  #   teacher_id: 1
  #   time_slot: 17
  #   limit: "fixed"
  #   desc: ""    


# 教师节数限制
# 李老师(数学)  上午第 4 节  3 次
# 刘老师(英语)  上午第 4 节  3 次
teacher_period_limit_constraints:
  - teacher_id: 2
    period: 3
    max_classes_count: 3
  - teacher_id: 3
    period: 3
    max_classes_count: 3

# 教师互斥限制
# 王老师(语文) 马老师(美术) 不同时上课
# 李老师(数学) 黄老师(体育) 不同时上课
teacher_mutex_constraints:
  # - teacher_a_id: 1
  #   teacher_b_id: 5
  # - teacher_a_id: 2
  #   teacher_b_id: 6

# 教师不跨中午
# 王老师(语文)
# 李老师(数学)
teacher_noon_break_constraints:
  - teacher_id: 1
  - teacher_id: 2

# 教师时间段限制
# 黄老师(生物) 上午 最多2节
# 体育(王成思) 下午 最多3节
teacher_range_limit_constraints:
  # - teacher_id: 6
  #   Range: "forenoon"
  #   max_classes_count: 2
  - teacher_id: 8
    Range: "afternoon"
    max_classes_count: 3

venue_constraints:
#   - venue_id: 1
#     grade_id: 1
#     class_id: 1
#     subject_id: 1
#     time_slot:
#       day: "Monday"
#       start_time: "08:00"
#       end_time: "10:00"
#     limit: "fixed"
#     desc: "Fixed venue for class 1's math class on Monday morning"
#   - venue_id: 2
#     grade_id: 1
#     class_id: 2
#     subject_id: 2
#     time_slot:
#       day: "Tuesday"
#       start_time: "13:00"
#       end_time: "15:00"
#     limit: "prefer"
#     desc: "Preferred venue for class 2's English class on Tuesday afternoon"
#   - venue_id: 3
#     grade_id: 2
#     class_id: 3
#     subject_id: 3
#     time_slot:
#       day: "Wednesday"
#       start_time: "08:00"
#       end_time: "10:00"
#     limit: "not"
#     desc: "Venue cannot be used for class 3's Chinese class on Wednesday morning"









