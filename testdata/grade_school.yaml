# 小学课表
# https://mp.weixin.qq.com/s/gC53cdTVi2tK2wWkMu8T0w

# 课表方案
schedule:
  name: "小学课表"
  num_workdays: 5
  num_days_off: 2
  num_morning_reading_classes: 0
  num_forenoon_classes: 4
  num_afternoon_classes: 4
  num_night_classes: 0


# 科目
# 分组:
#   1. 主课
#   2. 副课
subjects:
  - { subject_id: 1, name: "语文", subject_group_ids: [1], priority: 1 }
  - { subject_id: 2, name: "数学", subject_group_ids: [1], priority: 2 }
  - { subject_id: 3, name: "科学", subject_group_ids: [1], priority: 3 }
  - { subject_id: 4, name: "道法", subject_group_ids: [2], priority: 3 }
  - { subject_id: 5, name: "写字", subject_group_ids: [2], priority: 3 }
  - { subject_id: 6, name: "劳动", subject_group_ids: [2], priority: 3 }
  - { subject_id: 7, name: "少心", subject_group_ids: [2], priority: 3 }
  - { subject_id: 8, name: "魔尺", subject_group_ids: [2], priority: 3 }
  - { subject_id: 9, name: "美术", subject_group_ids: [2], priority: 3 }
  - { subject_id: 10, name: "音乐", subject_group_ids: [2], priority: 3 }
  - { subject_id: 11, name: "语文作辅", subject_group_ids: [2], priority: 3 }
  - { subject_id: 12, name: "数学作辅", subject_group_ids: [2], priority: 3 }
  - { subject_id: 13, name: "计算训练", subject_group_ids: [2], priority: 3 }
  - { subject_id: 14, name: "经典诵读", subject_group_ids: [2], priority: 3 }
  - { subject_id: 15, name: "绘本故事", subject_group_ids: [2], priority: 3 }
  - { subject_id: 16, name: "体育与健康", subject_group_ids: [2], priority: 3 }
  - { subject_id: 17, name: "综合实践活动", subject_group_ids: [2], priority: 3 }


# 教师
teachers:
  - { teacher_id: 1, name: "语文1", teacher_group_ids: [], class_subjects: [{ grade_id: 1, class_id: 1, subject_id: [1,11,14,15] }] }
  - { teacher_id: 2, name: "数学1", teacher_group_ids: [], class_subjects: [{ grade_id: 1, class_id: 1, subject_id: [2,12,13] }] }
  - { teacher_id: 3, name: "科学1", teacher_group_ids: [], class_subjects: [{ grade_id: 1, class_id: 1, subject_id: [3] }] }
  - { teacher_id: 4, name: "道法1", teacher_group_ids: [], class_subjects: [{ grade_id: 1, class_id: 1, subject_id: [4] }] }
  - { teacher_id: 5, name: "写字1", teacher_group_ids: [], class_subjects: [{ grade_id: 1, class_id: 1, subject_id: [5] }] }
  - { teacher_id: 6, name: "劳动1", teacher_group_ids: [], class_subjects: [{ grade_id: 1, class_id: 1, subject_id: [6] }] }
  - { teacher_id: 7, name: "少心1", teacher_group_ids: [], class_subjects: [{ grade_id: 1, class_id: 1, subject_id: [7] }] }
  - { teacher_id: 8, name: "魔尺1", teacher_group_ids: [], class_subjects: [{ grade_id: 1, class_id: 1, subject_id: [8] }] }
  - { teacher_id: 9, name: "美术1", teacher_group_ids: [], class_subjects: [{ grade_id: 1, class_id: 1, subject_id: [9] }] }
  - { teacher_id: 10, name: "音乐1", teacher_group_ids: [], class_subjects: [{ grade_id: 1, class_id: 1, subject_id: [10] }] }
  - { teacher_id: 11, name: "体育与健康1", teacher_group_ids: [], class_subjects: [{ grade_id: 1, class_id: 1, subject_id: [16] }] }
  - { teacher_id: 12, name: "综合实践活动1", teacher_group_ids: [], class_subjects: [{ grade_id: 1, class_id: 1, subject_id: [17] }] }

# 年级
grades:
  - school_id: 1
    grade_id: 9
    name: "一年级"
    classes:
      - school_id: 1
        class_id: 1
        name: "(1)班"


# 教学任务
# 一年级共36节课
teaching_tasks:
  # 语文
  - {id: 1, grade_id: 1, class_id: 1, subject_id: 1, teacher_id: 1, num_classes_per_week: 7, num_connected_classes_per_week: 2}
  # 数学
  - {id: 2, grade_id: 1, class_id: 1, subject_id: 2, teacher_id: 2, num_classes_per_week: 4, num_connected_classes_per_week: 0}
  # 科学
  - {id: 3, grade_id: 1, class_id: 1, subject_id: 3, teacher_id: 3, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  # 道法
  - {id: 4, grade_id: 1, class_id: 1, subject_id: 4, teacher_id: 4, num_classes_per_week: 2, num_connected_classes_per_week: 0}
  # 写字
  - {id: 5, grade_id: 1, class_id: 1, subject_id: 5, teacher_id: 5, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  # 劳动
  - {id: 6, grade_id: 1, class_id: 1, subject_id: 6, teacher_id: 6, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  # 少心
  - {id: 7, grade_id: 1, class_id: 1, subject_id: 7, teacher_id: 7, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  # 魔尺
  - {id: 8, grade_id: 1, class_id: 1, subject_id: 8, teacher_id: 8, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  # 美术
  - {id: 9, grade_id: 1, class_id: 1, subject_id: 9, teacher_id: 9, num_classes_per_week: 2, num_connected_classes_per_week: 0}
  # 音乐
  - {id: 10, grade_id: 1, class_id: 1, subject_id: 10, teacher_id: 10, num_classes_per_week: 2, num_connected_classes_per_week: 0}
  # 语文作辅
  - {id: 11, grade_id: 1, class_id: 1, subject_id: 11, teacher_id: 1, num_classes_per_week: 3, num_connected_classes_per_week: 0}
  # 数学作辅
  - {id: 12, grade_id: 1, class_id: 1, subject_id: 12, teacher_id: 2, num_classes_per_week: 2, num_connected_classes_per_week: 0}
  # 计算训练
  - {id: 13, grade_id: 1, class_id: 1, subject_id: 13, teacher_id: 2, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  # 经典诵读
  - {id: 14, grade_id: 1, class_id: 1, subject_id: 14, teacher_id: 1, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  # 绘本故事
  - {id: 15, grade_id: 1, class_id: 1, subject_id: 15, teacher_id: 1, num_classes_per_week: 1, num_connected_classes_per_week: 0}
  # 体育与健康
  - {id: 16, grade_id: 1, class_id: 1, subject_id: 16, teacher_id: 11, num_classes_per_week: 5, num_connected_classes_per_week: 0}
  # 综合实践活动
  - {id: 17, grade_id: 1, class_id: 1, subject_id: 17, teacher_id: 12, num_classes_per_week: 1, num_connected_classes_per_week: 0}



# 班级固排禁排
class_constraints:
  # 一年级 周二、周三、周四、周五 第4节 禁排
  - {id: 1, grade_id: 1, class_id: 1, subject_id: 0, teacher_id: 0, time_slots: [11,19,27,35], limit: "not", desc: ""}

# 科目互斥
subject_mutex_constraints:
  # 劳动、体育
  - {id: 1, subject_a_id: 6, subject_b_id: 16}

# 科目固排禁排
subject_constraints:

  # 语文、数学 优先排在第1、2节
  - {id: 1, subject_group_id: 1, subject_id: 0, time_slots: [0,1,8,9,16,17,24,25,32,33], limit: "prefer", desc: ""}

  # 语文作辅、数学作辅 固定排在第7节
  # - {id: 1, subject_group_id: 0, subject_id: 11, time_slots: [6,14,22,30,38], limit: "fixed", desc: ""}
  # - {id: 1, subject_group_id: 0, subject_id: 12, time_slots: [6,14,22,30,38], limit: "fixed", desc: ""}

  - {id: 2, subject_group_id: 0, subject_id: 11, time_slots: [0,1,2,3,4,5,7,8,9,10,11,12.13,15,16,17,18,19,20,21,23,24,25,26,27,28,29,31,32,33,34,35,36,37,39], limit: "not", desc: ""}
  - {id: 3, subject_group_id: 0, subject_id: 12, time_slots: [0,1,2,3,4,5,7,8,9,10,11,12.13,15,16,17,18,19,20,21,23,24,25,26,27,28,29,31,32,33,34,35,36,37,39], limit: "not", desc: ""}


  # 魔尺、计算训练、经典诵读、绘本故事 固定排在第8节
  # - {id: 1, subject_group_id: 0, subject_id: 8, time_slots: [7,15,23,31,39], limit: "fixed", desc: ""}
  # - {id: 2, subject_group_id: 0, subject_id: 13, time_slots: [7,15,23,31,39], limit: "fixed", desc: ""}
  # - {id: 3, subject_group_id: 0, subject_id: 14, time_slots: [7,15,23,31,39], limit: "fixed", desc: ""}
  # - {id: 4, subject_group_id: 0, subject_id: 15, time_slots: [7,15,23,31,39], limit: "fixed", desc: ""}
  - {id: 4, subject_group_id: 0, subject_id: 8, time_slots: [0,1,2,3,4,5,6,8,9,10,11,12.13,14,16,17,18,19,20,21,22,24,25,26,27,28,29,30,32,33,34,35,36,37,38], limit: "not", desc: ""}
  - {id: 5, subject_group_id: 0, subject_id: 13, time_slots: [0,1,2,3,4,5,6,8,9,10,11,12.13,14,16,17,18,19,20,21,22,24,25,26,27,28,29,30,32,33,34,35,36,37,38], limit: "not", desc: ""}
  - {id: 6, subject_group_id: 0, subject_id: 14, time_slots: [0,1,2,3,4,5,6,8,9,10,11,12.13,14,16,17,18,19,20,21,22,24,25,26,27,28,29,30,32,33,34,35,36,37,38], limit: "not", desc: ""}
  - {id: 7, subject_group_id: 0, subject_id: 15, time_slots: [0,1,2,3,4,5,6,8,9,10,11,12.13,14,16,17,18,19,20,21,22,24,25,26,27,28,29,30,32,33,34,35,36,37,38], limit: "not", desc: ""}
